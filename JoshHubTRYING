LS0vLyBKb3NoaHViU2NyaXB0IENvbnRyb2wgUGFuZWwgKEZ1bGwgRmVhdHVyZXMgKyBXZWJob29rIGZvciBBdXRvQWNjZXB0IG9ubHkpDQotLS8vIE93bmVyOiBKb3Nocm94YXNTY3JpcHQNCg0KLS0vLyBTZXJ2aWNlcw0KbG9jYWwgUGxheWVycyA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpDQpsb2NhbCBMb2NhbFBsYXllciA9IFBsYXllcnMuTG9jYWxQbGF5ZXINCmxvY2FsIFJlcGxpY2F0ZWRTdG9yYWdlID0gZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpDQpsb2NhbCBSdW5TZXJ2aWNlID0gZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIikNCmxvY2FsIFVzZXJJbnB1dFNlcnZpY2UgPSBnYW1lOkdldFNlcnZpY2UoIlVzZXJJbnB1dFNlcnZpY2UiKQ0KbG9jYWwgSHR0cFNlcnZpY2UgPSBnYW1lOkdldFNlcnZpY2UoIkh0dHBTZXJ2aWNlIikgDQoNCi0tLy8gV2ViaG9vayAocGFsaXRhbiBtbykNCmxvY2FsIFdlYmhvb2tVUkwgPSAiaHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGkvd2ViaG9va3MvMTQyMDk0MDk1MTIzNjUxMzg2Mi9vNUNINzl5bVh3VktSLS1VNU1QOWFrQlIzalFTRlpuTGZKYnQ0b2xYSmp5MmtqT25wZU9iNHZ0Wi1lZDZ4ZXVJVnIyRSINCg0KbG9jYWwgZnVuY3Rpb24gc2VuZFdlYmhvb2soY29udGVudCkNCiAgICBpZiBub3QgV2ViaG9va1VSTCBvciBXZWJob29rVVJMID09ICIiIHRoZW4gcmV0dXJuIGVuZA0KICAgIGxvY2FsIGRhdGEgPSB7DQogICAgICAgIFsidXNlcm5hbWUiXSA9ICLwn46BIEpvc2hodWIgQXV0b0FjY2VwdCIsDQogICAgICAgIFsiYXZhdGFyX3VybCJdID0gImh0dHBzOi8vaS5pbWd1ci5jb20vM0dLd0s2WC5wbmciLA0KICAgICAgICBbImNvbnRlbnQiXSA9IGNvbnRlbnQNCiAgICB9DQogICAgcGNhbGwoZnVuY3Rpb24oKQ0KICAgICAgICByZXF1ZXN0KHsNCiAgICAgICAgICAgIFVybCA9IFdlYmhvb2tVUkwsDQogICAgICAgICAgICBNZXRob2QgPSAiUE9TVCIsDQogICAgICAgICAgICBIZWFkZXJzID0ge1siQ29udGVudC1UeXBlIl0gPSAiYXBwbGljYXRpb24vanNvbiJ9LA0KICAgICAgICAgICAgQm9keSA9IEh0dHBTZXJ2aWNlOkpTT05FbmNvZGUoZGF0YSkNCiAgICAgICAgfSkNCiAgICBlbmQpDQplbmQNCg0KLS0vLyBHVUk6IENvbnRyb2wgUGFuZWwNCmxvY2FsIFNjcmVlbkd1aSA9IEluc3RhbmNlLm5ldygiU2NyZWVuR3VpIikNClNjcmVlbkd1aS5OYW1lID0gIkpvc2hodWJTY3JpcHTwn5GB77iPIg0KU2NyZWVuR3VpLlBhcmVudCA9IGdhbWU6R2V0U2VydmljZSgiQ29yZUd1aSIpDQoNCmxvY2FsIE1haW5GcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQ0KTWFpbkZyYW1lLlNpemUgPSBVRGltMi5uZXcoMCwgMjMwLCAwLCAzMDApDQpNYWluRnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoMC4wMywgMCwgMC4yNSwgMCkNCk1haW5GcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDApDQpNYWluRnJhbWUuQWN0aXZlID0gdHJ1ZQ0KTWFpbkZyYW1lLkRyYWdnYWJsZSA9IHRydWUNCk1haW5GcmFtZS5QYXJlbnQgPSBTY3JlZW5HdWkNCg0KbG9jYWwgVUlDb3JuZXJNYWluID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIsIE1haW5GcmFtZSkNClVJQ29ybmVyTWFpbi5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLDEyKQ0KDQpsb2NhbCBVSUdyYWRpZW50ID0gSW5zdGFuY2UubmV3KCJVSUdyYWRpZW50IiwgTWFpbkZyYW1lKQ0KVUlHcmFkaWVudC5Db2xvciA9IENvbG9yU2VxdWVuY2UubmV3ew0KICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgQ29sb3IzLmZyb21SR0IoMjU1LCAxMDAsIDUwKSksDQogICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMuZnJvbVJHQig2MCwgMjAsIDIwKSkNCn0NClVJR3JhZGllbnQuUm90YXRpb24gPSA5MA0KDQpsb2NhbCBUaXRsZSA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikNClRpdGxlLlNpemUgPSBVRGltMi5uZXcoMSwgLTM1LCAwLCAzNSkNClRpdGxlLlBvc2l0aW9uID0gVURpbTIubmV3KDAsOCwwLDApDQpUaXRsZS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQ0KVGl0bGUuVGV4dCA9ICLwn5SuIEpvc2hodWIgdGVsZXBvcnRlciINClRpdGxlLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxNDQsIDIzOCwgMTQ0KQ0KVGl0bGUuRm9udCA9IEVudW0uRm9udC5GYW50YXN5DQpUaXRsZS5UZXh0U2l6ZSA9IDE3DQpUaXRsZS5UZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuTGVmdA0KVGl0bGUuUGFyZW50ID0gTWFpbkZyYW1lDQoNCmxvY2FsIE1pbkJ0biA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQpNaW5CdG4uU2l6ZSA9IFVEaW0yLm5ldygwLDI4LDAsMjgpDQpNaW5CdG4uUG9zaXRpb24gPSBVRGltMi5uZXcoMSwtMzIsMCw0KQ0KTWluQnRuLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMzgsIDQzLCAyMjYpDQpNaW5CdG4uVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwxODAsMTIwKQ0KTWluQnRuLlRleHQgPSAiLSINCk1pbkJ0bi5Gb250ID0gRW51bS5Gb250LlNvdXJjZVNhbnNCb2xkDQpNaW5CdG4uVGV4dFNpemUgPSAyMA0KTWluQnRuLlBhcmVudCA9IE1haW5GcmFtZQ0KbG9jYWwgTWluVUlDb3JuZXIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIiwgTWluQnRuKQ0KTWluVUlDb3JuZXIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCw2KSANCg0KbG9jYWwgTWluaW1pemVkID0gZmFsc2UNCk1pbkJ0bi5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KGZ1bmN0aW9uKCkNCiAgICBNaW5pbWl6ZWQgPSBub3QgTWluaW1pemVkDQogICAgaWYgTWluaW1pemVkIHRoZW4NCiAgICAgICAgZm9yIF8sIHYgaW4gcGFpcnMoTWFpbkZyYW1lOkdldENoaWxkcmVuKCkpIGRvDQogICAgICAgICAgICBpZiB2IH49IFRpdGxlIGFuZCB2IH49IE1pbkJ0biBhbmQgbm90IHY6SXNBKCJVSUNvcm5lciIpIGFuZCBub3QgdjpJc0EoIlVJR3JhZGllbnQiKSB0aGVuDQogICAgICAgICAgICAgICAgdi5WaXNpYmxlID0gZmFsc2UNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgTWFpbkZyYW1lLlNpemUgPSBVRGltMi5uZXcoMCwyMzAsMCw0MCkNCiAgICAgICAgTWluQnRuLlRleHQgPSAiKyINCiAgICBlbHNlDQogICAgICAgIGZvciBfLCB2IGluIHBhaXJzKE1haW5GcmFtZTpHZXRDaGlsZHJlbigpKSBkbw0KICAgICAgICAgICAgaWYgdiB-PSBUaXRsZSBhbmQgdiB-PSBNaW5CdG4gYW5kIG5vdCB2OklzQSgiVUlDb3JuZXIiKSBhbmQgbm90IHY6SXNBKCJVSUdyYWRpZW50IikgdGhlbg0KICAgICAgICAgICAgICAgIHYuVmlzaWJsZSA9IHRydWUNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgTWFpbkZyYW1lLlNpemUgPSBVRGltMi5uZXcoMCwyMzAsMCwzMDApDQogICAgICAgIE1pbkJ0bi5UZXh0ID0gIi0iDQogICAgZW5kDQplbmQpDQoNCi0tLy8gQXV0byBBY2NlcHQgVG9nZ2xlDQpsb2NhbCBTd2l0Y2hMYWJlbCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikNClN3aXRjaExhYmVsLlNpemUgPSBVRGltMi5uZXcoMCwxMzAsMCwyNSkNClN3aXRjaExhYmVsLlBvc2l0aW9uID0gVURpbTIubmV3KDAsMTAsMCw0NSkNClN3aXRjaExhYmVsLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxDQpTd2l0Y2hMYWJlbC5UZXh0ID0gIkF1dG8gQWNjZXB0IEdpZnQiDQpTd2l0Y2hMYWJlbC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LDI1NSwyNTUpDQpTd2l0Y2hMYWJlbC5UZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuTGVmdA0KU3dpdGNoTGFiZWwuRm9udCA9IEVudW0uRm9udC5Tb3VyY2VTYW5zQm9sZA0KU3dpdGNoTGFiZWwuVGV4dFNpemUgPSAxMg0KU3dpdGNoTGFiZWwuUGFyZW50ID0gTWFpbkZyYW1lDQoNCmxvY2FsIFN3aXRjaEZyYW1lID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNClN3aXRjaEZyYW1lLlNpemUgPSBVRGltMi5uZXcoMCw0NSwwLDIyKQ0KU3dpdGNoRnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwxNTAsMCw0NykNClN3aXRjaEZyYW1lLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig4MCw0MCw0MCkNClN3aXRjaEZyYW1lLlRleHQgPSAiIg0KU3dpdGNoRnJhbWUuUGFyZW50ID0gTWFpbkZyYW1lDQoNCmxvY2FsIEtub2IgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikNCktub2IuU2l6ZSA9IFVEaW0yLm5ldygwLDIwLDAsMjApDQpLbm9iLlBvc2l0aW9uID0gVURpbTIubmV3KDAsMSwwLDEpDQpLbm9iLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyMDAsNTAsNTApDQpLbm9iLlBhcmVudCA9IFN3aXRjaEZyYW1lDQoNCkluc3RhbmNlLm5ldygiVUlDb3JuZXIiLCBTd2l0Y2hGcmFtZSkuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwxMikNCkluc3RhbmNlLm5ldygiVUlDb3JuZXIiLCBLbm9iKS5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLDEyKQ0KDQpnZXRnZW52KCkuQXV0b0FjY2VwdCA9IGZhbHNlDQpsb2NhbCBmdW5jdGlvbiBUb2dnbGVTd2l0Y2goKQ0KICAgIGdldGdlbnYoKS5BdXRvQWNjZXB0ID0gbm90IGdldGdlbnYoKS5BdXRvQWNjZXB0DQogICAgaWYgZ2V0Z2VudigpLkF1dG9BY2NlcHQgdGhlbg0KICAgICAgICBLbm9iOlR3ZWVuUG9zaXRpb24oVURpbTIubmV3KDAsMjMsMCwxKSwiT3V0IiwiU2luZSIsMC4yLHRydWUpDQogICAgICAgIEtub2IuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDUwLDIwMCw1MCkNCiAgICBlbHNlDQogICAgICAgIEtub2I6VHdlZW5Qb3NpdGlvbihVRGltMi5uZXcoMCwxLDAsMSksIk91dCIsIlNpbmUiLDAuMix0cnVlKQ0KICAgICAgICBLbm9iLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyMDAsNTAsNTApDQogICAgZW5kDQplbmQNClN3aXRjaEZyYW1lLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoVG9nZ2xlU3dpdGNoKSANCg0KLS0vLyBUZWxlcG9ydCBQbGF5ZXIgTGlzdA0KbG9jYWwgUGxheWVyTGlzdCA9IEluc3RhbmNlLm5ldygiU2Nyb2xsaW5nRnJhbWUiKQ0KUGxheWVyTGlzdC5TaXplID0gVURpbTIubmV3KDEsLTIwLDAsMTEwKQ0KUGxheWVyTGlzdC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLDEwLDAsODApDQpQbGF5ZXJMaXN0LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxDQpQbGF5ZXJMaXN0LlNjcm9sbEJhclRoaWNrbmVzcyA9IDUNClBsYXllckxpc3QuUGFyZW50ID0gTWFpbkZyYW1lDQpsb2NhbCBVSUxpc3QgPSBJbnN0YW5jZS5uZXcoIlVJTGlzdExheW91dCIpDQpVSUxpc3QuUGFkZGluZyA9IFVEaW0ubmV3KDAsNCkNClVJTGlzdC5QYXJlbnQgPSBQbGF5ZXJMaXN0DQoNCmxvY2FsIGZ1bmN0aW9uIHRlbGVwb3J0VG9QbGF5ZXIodGFyZ2V0KQ0KICAgIGlmIHRhcmdldC5DaGFyYWN0ZXIgYW5kIHRhcmdldC5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBhbmQNCiAgICAgICBMb2NhbFBsYXllci5DaGFyYWN0ZXIgYW5kIExvY2FsUGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIHRoZW4NCiAgICAgICAgTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gdGFyZ2V0LkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZQ0KICAgIGVuZA0KZW5kDQoNCmxvY2FsIGZ1bmN0aW9uIHJlZnJlc2hQbGF5ZXJMaXN0KCkNCiAgICBmb3IgXywgYnRuIGluIHBhaXJzKFBsYXllckxpc3Q6R2V0Q2hpbGRyZW4oKSkgZG8NCiAgICAgICAgaWYgYnRuOklzQSgiVGV4dEJ1dHRvbiIpIHRoZW4gYnRuOkRlc3Ryb3koKSBlbmQNCiAgICBlbmQNCiAgICBmb3IgXywgcGxyIGluIHBhaXJzKFBsYXllcnM6R2V0UGxheWVycygpKSBkbw0KICAgICAgICBpZiBwbHIgfj0gTG9jYWxQbGF5ZXIgdGhlbg0KICAgICAgICAgICAgbG9jYWwgQnRuID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCiAgICAgICAgICAgIEJ0bi5TaXplID0gVURpbTIubmV3KDEsLTEwLDAsMjIpDQogICAgICAgICAgICBCdG4uQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDYwLDMwLDMwKQ0KICAgICAgICAgICAgQnRuLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsMjAwLDEyMCkNCiAgICAgICAgICAgIEJ0bi5Gb250ID0gRW51bS5Gb250LlNvdXJjZVNhbnNCb2xkDQogICAgICAgICAgICBCdG4uVGV4dFNpemUgPSAxMw0KICAgICAgICAgICAgQnRuLlRleHQgPSBwbHIuRGlzcGxheU5hbWUNCiAgICAgICAgICAgIEJ0bi5QYXJlbnQgPSBQbGF5ZXJMaXN0DQogICAgICAgICAgICBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIiwgQnRuKS5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLDYpDQoNCiAgICAgICAgICAgIEJ0bi5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KGZ1bmN0aW9uKCkNCiAgICAgICAgICAgICAgICB0ZWxlcG9ydFRvUGxheWVyKHBscikNCiAgICAgICAgICAgIGVuZCkNCiAgICAgICAgZW5kDQogICAgZW5kDQogICAgUGxheWVyTGlzdC5DYW52YXNTaXplID0gVURpbTIubmV3KDAsMCwwLFVJTGlzdC5BYnNvbHV0ZUNvbnRlbnRTaXplLlkgKyAxMCkNCmVuZA0KUGxheWVycy5QbGF5ZXJBZGRlZDpDb25uZWN0KHJlZnJlc2hQbGF5ZXJMaXN0KQ0KUGxheWVycy5QbGF5ZXJSZW1vdmluZzpDb25uZWN0KHJlZnJlc2hQbGF5ZXJMaXN0KQ0KcmVmcmVzaFBsYXllckxpc3QoKQ0KDQotLS8vIExlYXZlIEJ1dHRvbg0KbG9jYWwgTGVhdmVCdXR0b24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KTGVhdmVCdXR0b24uU2l6ZSA9IFVEaW0yLm5ldygxLC0xOSwwLDI4KQ0KTGVhdmVCdXR0b24uUG9zaXRpb24gPSBVRGltMi5uZXcoMCwxMCwxLC0zMikNCkxlYXZlQnV0dG9uLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyMDAsNTAsNTApDQpMZWF2ZUJ1dHRvbi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LDI1NSwyNTUpDQpMZWF2ZUJ1dHRvbi5UZXh0ID0gIuKdjCBMRUFWRSBLQU5BIg0KTGVhdmVCdXR0b24uRm9udCA9IEVudW0uRm9udC5Tb3VyY2VTYW5zQm9sZA0KTGVhdmVCdXR0b24uVGV4dFNpemUgPSAxMg0KTGVhdmVCdXR0b24uUGFyZW50ID0gTWFpbkZyYW1lDQpJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIiwgTGVhdmVCdXR0b24pLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsNikNCg0KTGVhdmVCdXR0b24uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdChmdW5jdGlvbigpDQogICAgTG9jYWxQbGF5ZXI6S2ljaygiUFVUQU5HSU5BIE1PS0EgU0FOQSBBTEzwn5GB77iP8J-YjvCfkYzwn6SjIikNCmVuZCkNCg0KLS0vLyBBbHdheXMtT24gRmVhdHVyZXMNClJ1blNlcnZpY2UuU3RlcHBlZDpDb25uZWN0KGZ1bmN0aW9uKCkNCiAgICBpZiBMb2NhbFBsYXllci5DaGFyYWN0ZXIgYW5kIExvY2FsUGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIikgdGhlbg0KICAgICAgICBMb2NhbFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpLldhbGtTcGVlZCA9IDgwDQogICAgZW5kDQplbmQpDQpVc2VySW5wdXRTZXJ2aWNlLkp1bXBSZXF1ZXN0OkNvbm5lY3QoZnVuY3Rpb24oKQ0KICAgIGlmIExvY2FsUGxheWVyLkNoYXJhY3RlciBhbmQgTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKSB0aGVuDQogICAgICAgIExvY2FsUGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIik6Q2hhbmdlU3RhdGUoRW51bS5IdW1hbm9pZFN0YXRlVHlwZS5KdW1waW5nKQ0KICAgIGVuZA0KZW5kKQ0KUnVuU2VydmljZS5TdGVwcGVkOkNvbm5lY3QoZnVuY3Rpb24oKQ0KICAgIGlmIExvY2FsUGxheWVyLkNoYXJhY3RlciB0aGVuDQogICAgICAgIGZvciBfLCBwYXJ0IGluIHBhaXJzKExvY2FsUGxheWVyLkNoYXJhY3RlcjpHZXREZXNjZW5kYW50cygpKSBkbw0KICAgICAgICAgICAgaWYgcGFydDpJc0EoIkJhc2VQYXJ0IikgdGhlbg0KICAgICAgICAgICAgICAgIHBhcnQuQ2FuQ29sbGlkZSA9IGZhbHNlDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgZW5kDQplbmQpDQoNCi0tLy8gU3BlY3RhdGUgR1VJDQpsb2NhbCBTcGVjdGF0ZUd1aSA9IEluc3RhbmNlLm5ldygiU2NyZWVuR3VpIikNClNwZWN0YXRlR3VpLk5hbWUgPSAiU3BlY3RhdGVHdWkiDQpTcGVjdGF0ZUd1aS5QYXJlbnQgPSBnYW1lOkdldFNlcnZpY2UoIkNvcmVHdWkiKQ0KDQpsb2NhbCBTcGVjRnJhbWUgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikNClNwZWNGcmFtZS5TaXplID0gVURpbTIubmV3KDAsIDE2OSwgMCwgMjE5KQ0KU3BlY0ZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAuOCwgMCwgMC4xLCAwKQ0KU3BlY0ZyYW1lLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMzUsIDIwNiwgMjM1KSANClNwZWNGcmFtZS5BY3RpdmUgPSB0cnVlDQpTcGVjRnJhbWUuRHJhZ2dhYmxlID0gdHJ1ZQ0KU3BlY0ZyYW1lLlBhcmVudCA9IFNwZWN0YXRlR3VpDQpJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIiwgU3BlY0ZyYW1lKS5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCAxMCkNCg0KbG9jYWwgU3BlY1RpdGxlID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQ0KU3BlY1RpdGxlLlNpemUgPSBVRGltMi5uZXcoMSwgLTksIDAsIDI4KQ0KU3BlY1RpdGxlLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDEwLCAwLCA0KQ0KU3BlY1RpdGxlLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxDQpTcGVjVGl0bGUuVGV4dCA9ICLwn46lIFNwZWN0YXRlIFBsYXllcnMiDQpTcGVjVGl0bGUuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjAwLCAxMjApDQpTcGVjVGl0bGUuRm9udCA9IEVudW0uRm9udC5Tb3VyY2VTYW5zQm9sZA0KU3BlY1RpdGxlLlRleHRTaXplID0gMTUNClNwZWNUaXRsZS5UZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuTGVmdA0KU3BlY1RpdGxlLlBhcmVudCA9IFNwZWNGcmFtZQ0KDQpsb2NhbCBTcGVjTGlzdCA9IEluc3RhbmNlLm5ldygiU2Nyb2xsaW5nRnJhbWUiKQ0KU3BlY0xpc3QuU2l6ZSA9IFVEaW0yLm5ldygxLCAtMTAsIDEsIC02MCkNClNwZWNMaXN0LlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDUsIDAsIDM1KQ0KU3BlY0xpc3QuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDENClNwZWNMaXN0LlNjcm9sbEJhclRoaWNrbmVzcyA9IDQNClNwZWNMaXN0LlBhcmVudCA9IFNwZWNGcmFtZQ0KbG9jYWwgU3BlY0xpc3RMYXlvdXQgPSBJbnN0YW5jZS5uZXcoIlVJTGlzdExheW91dCIpDQpTcGVjTGlzdExheW91dC5QYWRkaW5nID0gVURpbS5uZXcoMCwgMykNClNwZWNMaXN0TGF5b3V0LlBhcmVudCA9IFNwZWNMaXN0IA0KDQpsb2NhbCBTdG9wQnRuID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNClN0b3BCdG4uU2l6ZSA9IFVEaW0yLm5ldygxLCAtMTAsIDAsIDI1KQ0KU3RvcEJ0bi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCA1LCAxLCAtMjgpDQpTdG9wQnRuLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyMDAsIDUwLCA1MCkNClN0b3BCdG4uVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQpTdG9wQnRuLkZvbnQgPSBFbnVtLkZvbnQuU291cmNlU2Fuc0JvbGQNClN0b3BCdG4uVGV4dFNpemUgPSAxNA0KU3RvcEJ0bi5UZXh0ID0gIuKblCBTdG9wIFNwZWN0YXRpbmciDQpTdG9wQnRuLlBhcmVudCA9IFNwZWNGcmFtZQ0KSW5zdGFuY2UubmV3KCJVSUNvcm5lciIsIFN0b3BCdG4pLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsIDYpDQoNCmxvY2FsIGZ1bmN0aW9uIHJlZnJlc2hTcGVjdGF0ZUxpc3QoKQ0KICAgIGZvciBfLCBidG4gaW4gcGFpcnMoU3BlY0xpc3Q6R2V0Q2hpbGRyZW4oKSkgZG8NCiAgICAgICAgaWYgYnRuOklzQSgiVGV4dEJ1dHRvbiIpIHRoZW4gYnRuOkRlc3Ryb3koKSBlbmQNCiAgICBlbmQNCiAgICBmb3IgXywgcGxyIGluIHBhaXJzKFBsYXllcnM6R2V0UGxheWVycygpKSBkbw0KICAgICAgICBpZiBwbHIgfj0gTG9jYWxQbGF5ZXIgdGhlbg0KICAgICAgICAgICAgbG9jYWwgQnRuID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCiAgICAgICAgICAgIEJ0bi5TaXplID0gVURpbTIubmV3KDEsIC01LCAwLCAyMikNCiAgICAgICAgICAgIEJ0bi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoNjAsIDMwLCAzMCkNCiAgICAgICAgICAgIEJ0bi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyMDAsIDEyMCkNCiAgICAgICAgICAgIEJ0bi5Gb250ID0gRW51bS5Gb250LlNvdXJjZVNhbnNCb2xkDQogICAgICAgICAgICBCdG4uVGV4dFNpemUgPSAxMw0KICAgICAgICAgICAgQnRuLlRleHQgPSBwbHIuRGlzcGxheU5hbWUNCiAgICAgICAgICAgIEJ0bi5QYXJlbnQgPSBTcGVjTGlzdA0KICAgICAgICAgICAgSW5zdGFuY2UubmV3KCJVSUNvcm5lciIsIEJ0bikuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwgNikNCg0KICAgICAgICAgICAgQnRuLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoZnVuY3Rpb24oKQ0KICAgICAgICAgICAgICAgIGlmIHBsci5DaGFyYWN0ZXIgYW5kIHBsci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuQ2FtZXJhU3ViamVjdCA9IHBsci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQpDQogICAgICAgIGVuZA0KICAgIGVuZA0KICAgIFNwZWNMaXN0LkNhbnZhc1NpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgU3BlY0xpc3RMYXlvdXQuQWJzb2x1dGVDb250ZW50U2l6ZS5ZICsgNSkNCmVuZA0KUGxheWVycy5QbGF5ZXJBZGRlZDpDb25uZWN0KHJlZnJlc2hTcGVjdGF0ZUxpc3QpDQpQbGF5ZXJzLlBsYXllclJlbW92aW5nOkNvbm5lY3QocmVmcmVzaFNwZWN0YXRlTGlzdCkNCnJlZnJlc2hTcGVjdGF0ZUxpc3QoKQ0KDQpTdG9wQnRuLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoZnVuY3Rpb24oKQ0KICAgIGlmIExvY2FsUGxheWVyLkNoYXJhY3RlciBhbmQgTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKSB0aGVuDQogICAgICAgIHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLkNhbWVyYVN1YmplY3QgPSBMb2NhbFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpDQogICAgZW5kDQplbmQpDQoNCi0tLy8gQXV0byBBY2NlcHQgR2lmdHMgd2l0aCBXZWJob29rICh1bmFuZyBnaWZ0IGFnYWQsIHN1bm9kIGV2ZXJ5IDJzKQ0KbG9jYWwgYWNjZXB0RXZlbnQgPSBSZXBsaWNhdGVkU3RvcmFnZTpXYWl0Rm9yQ2hpbGQoIkdhbWVFdmVudHMiKTpXYWl0Rm9yQ2hpbGQoIkFjY2VwdFBldEdpZnQiKQ0KbG9jYWwgQWNjZXB0ZWRHaWZ0cyA9IHt9DQpsb2NhbCBGaXJzdEdpZnQgPSB0cnVlDQoNCmZvciBfLCByZW1vdGUgaW4gaXBhaXJzKFJlcGxpY2F0ZWRTdG9yYWdlOkdldERlc2NlbmRhbnRzKCkpIGRvDQogICAgaWYgcmVtb3RlOklzQSgiUmVtb3RlRXZlbnQiKSBhbmQgc3RyaW5nLmxvd2VyKHJlbW90ZS5OYW1lKTpmaW5kKCJnaWZ0IikgdGhlbg0KICAgICAgICByZW1vdGUuT25DbGllbnRFdmVudDpDb25uZWN0KGZ1bmN0aW9uKGdpZnRJZCwgcGV0SW5mbywgc2VuZGVyKQ0KICAgICAgICAgICAgaWYgZ2V0Z2VudigpLkF1dG9BY2NlcHQgYW5kIG5vdCBBY2NlcHRlZEdpZnRzW2dpZnRJZF0gdGhlbg0KICAgICAgICAgICAgICAgIEFjY2VwdGVkR2lmdHNbZ2lmdElkXSA9IHRydWUNCg0KICAgICAgICAgICAgICAgIHRhc2suZGVmZXIoZnVuY3Rpb24oKQ0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBkZWxheVRpbWUgPSBGaXJzdEdpZnQgYW5kIDAgb3IgMg0KICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoZGVsYXlUaW1lKQ0KICAgICAgICAgICAgICAgICAgICBGaXJzdEdpZnQgPSBmYWxzZQ0KDQogICAgICAgICAgICAgICAgICAgIGFjY2VwdEV2ZW50OkZpcmVTZXJ2ZXIodHJ1ZSwgZ2lmdElkKQ0KDQogICAgICAgICAgICAgICAgICAgIC0tIFBldCBOYW1lDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIHBldE5hbWUgPSAiVW5rbm93biINCiAgICAgICAgICAgICAgICAgICAgaWYgdHlwZW9mKHBldEluZm8pID09ICJ0YWJsZSIgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgcGV0TmFtZSA9IHBldEluZm8ubmFtZSBvciBwZXRJbmZvLnBldE5hbWUgb3IgIlVua25vd24gUGV0Ig0KICAgICAgICAgICAgICAgICAgICBlbHNlaWYgdHlwZW9mKHBldEluZm8pID09ICJzdHJpbmciIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIHBldE5hbWUgPSBwZXRJbmZvDQogICAgICAgICAgICAgICAgICAgIGVuZA0KDQogICAgICAgICAgICAgICAgICAgIC0tIFBldCBXZWlnaHQNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgcGV0V2VpZ2h0ID0gIiINCiAgICAgICAgICAgICAgICAgICAgaWYgdHlwZW9mKHBldEluZm8pID09ICJ0YWJsZSIgYW5kIHBldEluZm8ud2VpZ2h0IHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIHBldFdlaWdodCA9IHN0cmluZy5mb3JtYXQoIiBbJS4yZiBLR10iLCB0b251bWJlcihwZXRJbmZvLndlaWdodCkgb3IgMCkNCiAgICAgICAgICAgICAgICAgICAgZW5kDQoNCiAgICAgICAgICAgICAgICAgICAgLS0gUGV0IEFnZQ0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBwZXRBZ2UgPSAiIg0KICAgICAgICAgICAgICAgICAgICBpZiB0eXBlb2YocGV0SW5mbykgPT0gInRhYmxlIiB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICBpZiBwZXRJbmZvLmFnZSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0QWdlID0gc3RyaW5nLmZvcm1hdCgiIFtBZ2UgJXNdIiwgdG9zdHJpbmcocGV0SW5mby5hZ2UpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIHBldEluZm8ucGV0QWdlIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRBZ2UgPSBzdHJpbmcuZm9ybWF0KCIgW0FnZSAlc10iLCB0b3N0cmluZyhwZXRJbmZvLnBldEFnZSkpDQogICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgZW5kDQoNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgcGV0RmluYWwgPSBwZXROYW1lIC4uIHBldFdlaWdodCAuLiBwZXRBZ2UNCg0KICAgICAgICAgICAgICAgICAgICAtLSBTZW5kZXIgQWNjb3VudCBBZ2UNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgYWNjb3VudEFnZSA9ICJOL0EiDQogICAgICAgICAgICAgICAgICAgIGlmIHNlbmRlciB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICBpZiB0eXBlb2Yoc2VuZGVyKSA9PSAiSW5zdGFuY2UiIGFuZCBzZW5kZXI6SXNBKCJQbGF5ZXIiKSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudEFnZSA9IHRvc3RyaW5nKHNlbmRlci5BY2NvdW50QWdlKSAuLiAiIGRheXMiDQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgdHlwZW9mKHNlbmRlcikgPT0gInN0cmluZyIgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHAgPSBQbGF5ZXJzOkZpbmRGaXJzdENoaWxkKHNlbmRlcikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBwIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudEFnZSA9IHRvc3RyaW5nKHAuQWNjb3VudEFnZSkgLi4gIiBkYXlzIg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgIGVuZA0KDQogICAgICAgICAgICAgICAgICAgIC0tIFdlYmhvb2sgTWVzc2FnZSAod2l0aCBib3hlcykNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgbXNnID0gc3RyaW5nLmZvcm1hdCgNCiAgICAgICAgICAgICAgICAgICAgICAgICJgYGDwn46BIEF1dG8gQWNjZXB0ZWQgR2lmdCFcbvCfkaQgVmljdGlt8J-kozogJXNcbvCfk4UgVklDVElNIEFnZSBhY2M6ICVzXG7wn4aUIEdpZnRJRDogJXNcbvCfkL4gUGV0OiAlc1xu8J-TjCBSZWNlaXZlcjogJXNgYGAiLA0KICAgICAgICAgICAgICAgICAgICAgICAgdG9zdHJpbmcoc2VuZGVyKSwgYWNjb3VudEFnZSwgdG9zdHJpbmcoZ2lmdElkKSwgcGV0RmluYWwsIExvY2FsUGxheWVyLk5hbWUNCiAgICAgICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgICAgICBzZW5kV2ViaG9vayhtc2cpDQogICAgICAgICAgICAgICAgZW5kKQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZCkNCiAgICBlbmQNCmVuZA0KDQotLS8vIE5vdGlmeSBrYXBhZyBsb2FkZWQgbmENCnBjYWxsKGZ1bmN0aW9uKCkNCiAgICBnYW1lLlN0YXJ0ZXJHdWk6U2V0Q29yZSgiU2VuZE5vdGlmaWNhdGlvbiIsIHsNCiAgICAgICAgVGl0bGUgPSAiSm9zaFRlbGVwb3J0ZXIiLA0KICAgICAgICBUZXh0ID0gIkxvYWRlZCBzdWNjZXNzZnVsbHkh4pyFIiwNCiAgICAgICAgRHVyYXRpb24gPSA1DQogICAgfSkNCmVuZCk
